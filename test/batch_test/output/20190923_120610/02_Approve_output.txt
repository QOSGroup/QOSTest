
================================================================

> # 打印密钥列表

================================================================

== [ 2019-09-23 12:06:45 ] Command [ No.1 ]

> qoscli keys list

--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli keys list' 
命令执行结果:
NAME:	TYPE:	ADDRESS:						PUBKEY:
alice	import	qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2	qosaccpub1zcjduepqzxez575h0j4kl0z7wn3muk4rn4n0265mwykyjguf9wh47nn8hqvqq2cqk9
bob	import	qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f	qosaccpub1zcjduepqxm2rfregh04ajq9q0j7eywr0emauus27dacwht4xp7l6l6grv9gqfvvycx
charles	import	qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36	qosaccpub1zcjduepq2g57x807xxw9e5utfdw6hmeg585y4qaazc9fw4am3u3alwggw0psk54pky
david	import	qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm	qosaccpub1zcjduepq6prl8a6k3hdnlq3dre2h8aar55yamhgrgu8vtak56wj6j2s5vzesgxhmt4
node	import	qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm	qosaccpub1zcjduepqayn33delk6nledgejr0dz7azd3wnp4xncn4jvd4r6xxcydgcz64q6n2tr8
qcpSigner	import	qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr	qosaccpub1zcjduepqyx6gejddufrke37hqkuu95wmn94xa3gjeqrmcfc56qpshq0l8mxqzlp2c2
starBanker	import	qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m	qosaccpub1zcjduepq7xhz09qgamfr3eqlpzy2cp8z9482j75f8x08sh005ryx4e8jds0s538my2
命令执行耗时: 274 ms
结果处理耗时: 5 ms
--------------------------------


================================================================

> # 创建预授权: 授权人bob, 被授权人charles, 要创建的预授权: 5,000,000QOS, 预期交易成功

================================================================

== [ 2019-09-23 12:06:45 ] Command [ No.2 ]

> qoscli tx create-approve --from bob --to charles --coins 5000000QOS --indent <== 12345678

== 交易之前 ==

==== 可用交易列表 ====

| Index | Value                                                                                                                    |
| ----: | :----------------------------------------------------------------------------------------------------------------------- |
|     0 | active-validator                                                                                                         |
|     1 | add-guardian                                                                                                             |
|     2 | cancel-approve                                                                                                           |
|     3 | create-approve                                                                                                           |
|     4 | create-qsc                                                                                                               |
|     5 | create-validator                                                                                                         |
|     6 | decrease-approve                                                                                                         |
|     7 | delegate                                                                                                                 |
|     8 | delete-guardian                                                                                                          |
|     9 | deposit                                                                                                                  |
|    10 | halt-network                                                                                                             |
|    11 | increase-approve                                                                                                         |
|    12 | init-qcp                                                                                                                 |
|    13 | invariant-check                                                                                                          |
|    14 | issue-qsc                                                                                                                |
|    15 | modify-compound                                                                                                          |
|    16 | modify-validator                                                                                                         |
|    17 | redelegate                                                                                                               |
|    18 | revoke-validator                                                                                                         |
|    19 | submit-proposal                                                                                                          |
|    20 | transfer                                                                                                                 |
|    21 | unbond                                                                                                                   |
|    22 | use-approve                                                                                                              |
|    23 | vote                                                                                                                     |

==== 本地密钥名称-账户地址映射表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     1 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     2 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     3 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     4 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     5 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户地址列表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户余额情况: QOS ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |              9999987 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |             10000000 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |             10000000 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |       49000355265904 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |             10000000 |                    0 |

==== 用户账户余额情况: QSC 'star' ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |                    0 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |                    0 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |                    0 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |                    0 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |                    0 |                    0 |

== 执行交易 ==

~/qos/bin/qoscli tx create-approve --from bob --to charles --coins 5000000QOS --indent 

== 原始交易结果 ==


--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli tx create-approve --from bob --to charles --coins 5000000QOS --indent' 12345678
命令执行结果:
{
  "check_tx": {
    "code": 1,
    "log": "{\"codespace\":\"sdk\",\"code\":1,\"message\":\"TxStd's ITx ValidateData error:  ERROR:\\nCodespace: approve\\nCode: 103\\nMessage: \\\"approve exists\\\"\\n\"}",
    "gasWanted": "9223372036854775807",
    "gasUsed": "2393",
    "events": []
  },
  "deliver_tx": {},
  "hash": "A5BBD5A1CA6A3698FA97559347F3F2157053459D2D66EC6466BCAC952D2673D4",
  "height": "0"
}
ERROR: {"codespace":"sdk","code":1,"message":"TxStd's ITx ValidateData error:  ERROR:\nCodespace: approve\nCode: 103\nMessage: \"approve exists\"\n"}
命令执行耗时: 849 ms
结果处理耗时: 8 ms
--------------------------------

== 提取交易哈希 ==

A5BBD5A1CA6A3698FA97559347F3F2157053459D2D66EC6466BCAC952D2673D4

== 查询链上交易记录 ==

ERROR: Tx: response error: RPC error -32603 - Internal error: Tx (A5BBD5A1CA6A3698FA97559347F3F2157053459D2D66EC6466BCAC952D2673D4) not found

错误: 未查询到链上交易记录

== 交易失败 ==


================================================================

> # 查询预授权, 此时预授权余额: 5,000,000QOS, 预授权总量未超出授权人账户余额

================================================================

== [ 2019-09-23 12:06:47 ] Command [ No.3 ]

> qoscli query approve --from bob --to charles --indent

--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli query approve --from bob --to charles --indent' 
命令执行结果:
{
  "from": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f",
  "to": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36",
  "qos": "5000000",
  "qscs": null
}
命令执行耗时: 283 ms
结果处理耗时: 4 ms
--------------------------------


================================================================

> # 增加预授权: 授权人bob, 被授权人charles, 要增加的预授权: 5,000,000QOS, 预期交易成功

================================================================

== [ 2019-09-23 12:06:47 ] Command [ No.4 ]

> qoscli tx increase-approve --from bob --to charles --coins 5000000QOS --indent <== 12345678

== 交易之前 ==

==== 可用交易列表 ====

| Index | Value                                                                                                                    |
| ----: | :----------------------------------------------------------------------------------------------------------------------- |
|     0 | active-validator                                                                                                         |
|     1 | add-guardian                                                                                                             |
|     2 | cancel-approve                                                                                                           |
|     3 | create-approve                                                                                                           |
|     4 | create-qsc                                                                                                               |
|     5 | create-validator                                                                                                         |
|     6 | decrease-approve                                                                                                         |
|     7 | delegate                                                                                                                 |
|     8 | delete-guardian                                                                                                          |
|     9 | deposit                                                                                                                  |
|    10 | halt-network                                                                                                             |
|    11 | increase-approve                                                                                                         |
|    12 | init-qcp                                                                                                                 |
|    13 | invariant-check                                                                                                          |
|    14 | issue-qsc                                                                                                                |
|    15 | modify-compound                                                                                                          |
|    16 | modify-validator                                                                                                         |
|    17 | redelegate                                                                                                               |
|    18 | revoke-validator                                                                                                         |
|    19 | submit-proposal                                                                                                          |
|    20 | transfer                                                                                                                 |
|    21 | unbond                                                                                                                   |
|    22 | use-approve                                                                                                              |
|    23 | vote                                                                                                                     |

==== 本地密钥名称-账户地址映射表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     1 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     2 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     3 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     4 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     5 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户地址列表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户余额情况: QOS ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |              9999987 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |             10000000 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |             10000000 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |       49000355265904 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |             10000000 |                    0 |

==== 用户账户余额情况: QSC 'star' ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |                    0 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |                    0 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |                    0 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |                    0 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |                    0 |                    0 |

== 执行交易 ==

~/qos/bin/qoscli tx increase-approve --from bob --to charles --coins 5000000QOS --indent 

== 原始交易结果 ==


--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli tx increase-approve --from bob --to charles --coins 5000000QOS --indent' 12345678
命令执行结果:
{
  "check_tx": {
    "gasWanted": "9223372036854775807",
    "gasUsed": "7967",
    "events": []
  },
  "deliver_tx": {
    "gasWanted": "9223372036854775807",
    "gasUsed": "12000",
    "events": [
      {
        "type": "increase-approve",
        "attributes": [
          {
            "key": "YXBwcm92ZS1mcm9t",
            "value": "cW9zYWNjMTVmYzI2c3d2Z3V6eTl3a3NoYTk1MDZzbWoyZ25lNXIzamQ5Nzhm"
          },
          {
            "key": "YXBwcm92ZS10bw==",
            "value": "cW9zYWNjMWYzN2p2bmVocmZrcHd6cXRxdHU1cTlqeDU3MDM0Z3Z2dHY1YTM2"
          }
        ]
      },
      {
        "type": "message",
        "attributes": [
          {
            "key": "bW9kdWxl",
            "value": "YXBwcm92ZQ=="
          },
          {
            "key": "YWN0aW9u",
            "value": "aW5jcmVhc2UtYXBwcm92ZQ=="
          },
          {
            "key": "Z2FzLnBheWVy",
            "value": "cW9zYWNjMTVmYzI2c3d2Z3V6eTl3a3NoYTk1MDZzbWoyZ25lNXIzamQ5Nzhm"
          }
        ]
      }
    ]
  },
  "hash": "667590E312B06B3AB5C47E7CB77D4C7746CD12AE7EEDA070FC333E2B36A28AF6",
  "height": "416"
}
命令执行耗时: 4966 ms
结果处理耗时: 8 ms
--------------------------------

== 提取交易哈希 ==

667590E312B06B3AB5C47E7CB77D4C7746CD12AE7EEDA070FC333E2B36A28AF6

== 查询链上交易记录 ==

{
  "height": "416",
  "txhash": "667590E312B06B3AB5C47E7CB77D4C7746CD12AE7EEDA070FC333E2B36A28AF6",
  "gas_wanted": "9223372036854775807",
  "gas_used": "12000",
  "events": [
    {
      "type": "increase-approve",
      "attributes": [
        {
          "key": "approve-from",
          "value": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f"
        },
        {
          "key": "approve-to",
          "value": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36"
        }
      ]
    },
    {
      "type": "message",
      "attributes": [
        {
          "key": "module",
          "value": "approve"
        },
        {
          "key": "action",
          "value": "increase-approve"
        },
        {
          "key": "gas.payer",
          "value": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f"
        }
      ]
    }
  ],
  "tx": {
    "type": "qbase/txs/stdtx",
    "value": {
      "itx": [
        {
          "type": "approve/txs/TxIncreaseApprove",
          "value": {
            "Approve": {
              "from": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f",
              "to": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36",
              "qos": "5000000",
              "qscs": null
            }
          }
        }
      ],
      "sigature": [
        {
          "pubkey": {
            "type": "tendermint/PubKeyEd25519",
            "value": "NtQ0jyi769kAoHy9kjhvzvvOQV5vcOuupg+/r+kDYVA="
          },
          "signature": "HnHH0ZL9sMX5os/GLKnJ/ACDIKlzoatUr4rFZE9F1r60/hGVIOqvt9Y07gPfDs0p1QjdqjOqYiVOc+PRvS//CQ==",
          "nonce": "2"
        }
      ],
      "chainid": "test-chain",
      "maxgas": "9223372036854775807"
    }
  },
  "timestamp": "2019-09-23T04:06:48Z"
}

== 交易成功 ==

== 交易生效过程 ==

到达新块: [416] ==> [417]

==== 可用交易列表 ====

| Index | Value                                                                                                                    |
| ----: | :----------------------------------------------------------------------------------------------------------------------- |
|     0 | active-validator                                                                                                         |
|     1 | add-guardian                                                                                                             |
|     2 | cancel-approve                                                                                                           |
|     3 | create-approve                                                                                                           |
|     4 | create-qsc                                                                                                               |
|     5 | create-validator                                                                                                         |
|     6 | decrease-approve                                                                                                         |
|     7 | delegate                                                                                                                 |
|     8 | delete-guardian                                                                                                          |
|     9 | deposit                                                                                                                  |
|    10 | halt-network                                                                                                             |
|    11 | increase-approve                                                                                                         |
|    12 | init-qcp                                                                                                                 |
|    13 | invariant-check                                                                                                          |
|    14 | issue-qsc                                                                                                                |
|    15 | modify-compound                                                                                                          |
|    16 | modify-validator                                                                                                         |
|    17 | redelegate                                                                                                               |
|    18 | revoke-validator                                                                                                         |
|    19 | submit-proposal                                                                                                          |
|    20 | transfer                                                                                                                 |
|    21 | unbond                                                                                                                   |
|    22 | use-approve                                                                                                              |
|    23 | vote                                                                                                                     |

==== 本地密钥名称-账户地址映射表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     1 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     2 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     3 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     4 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     5 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户地址列表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户余额情况: QOS ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |              9999975 |                  -12 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |             10000000 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |             10000000 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |       49000360125859 |              4859955 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |             10000000 |                    0 |

==== 用户账户余额情况: QSC 'star' ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |                    0 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |                    0 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |                    0 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |                    0 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |                    0 |                    0 |


================================================================

> # 查询预授权, 此时预授权余额: 10,000,000QOS, 预授权总量正好等于授权人账户余额

================================================================

== [ 2019-09-23 12:06:59 ] Command [ No.5 ]

> qoscli query approve --from bob --to charles --indent

--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli query approve --from bob --to charles --indent' 
命令执行结果:
{
  "from": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f",
  "to": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36",
  "qos": "10000000",
  "qscs": null
}
命令执行耗时: 366 ms
结果处理耗时: 6 ms
--------------------------------


================================================================

> # 再次增加预授权: 授权人bob, 被授权人charles, 要增加的预授权: 5,000,000QOS, 预期交易成功

================================================================

== [ 2019-09-23 12:07:00 ] Command [ No.6 ]

> qoscli tx increase-approve --from bob --to charles --coins 5000000QOS --indent <== 12345678

== 交易之前 ==

==== 可用交易列表 ====

| Index | Value                                                                                                                    |
| ----: | :----------------------------------------------------------------------------------------------------------------------- |
|     0 | active-validator                                                                                                         |
|     1 | add-guardian                                                                                                             |
|     2 | cancel-approve                                                                                                           |
|     3 | create-approve                                                                                                           |
|     4 | create-qsc                                                                                                               |
|     5 | create-validator                                                                                                         |
|     6 | decrease-approve                                                                                                         |
|     7 | delegate                                                                                                                 |
|     8 | delete-guardian                                                                                                          |
|     9 | deposit                                                                                                                  |
|    10 | halt-network                                                                                                             |
|    11 | increase-approve                                                                                                         |
|    12 | init-qcp                                                                                                                 |
|    13 | invariant-check                                                                                                          |
|    14 | issue-qsc                                                                                                                |
|    15 | modify-compound                                                                                                          |
|    16 | modify-validator                                                                                                         |
|    17 | redelegate                                                                                                               |
|    18 | revoke-validator                                                                                                         |
|    19 | submit-proposal                                                                                                          |
|    20 | transfer                                                                                                                 |
|    21 | unbond                                                                                                                   |
|    22 | use-approve                                                                                                              |
|    23 | vote                                                                                                                     |

==== 本地密钥名称-账户地址映射表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     1 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     2 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     3 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     4 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     5 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户地址列表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户余额情况: QOS ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |              9999975 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |             10000000 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |             10000000 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |       49000360125859 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |             10000000 |                    0 |

==== 用户账户余额情况: QSC 'star' ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |                    0 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |                    0 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |                    0 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |                    0 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |                    0 |                    0 |

== 执行交易 ==

~/qos/bin/qoscli tx increase-approve --from bob --to charles --coins 5000000QOS --indent 

== 原始交易结果 ==


--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli tx increase-approve --from bob --to charles --coins 5000000QOS --indent' 12345678
命令执行结果:
{
  "check_tx": {
    "gasWanted": "9223372036854775807",
    "gasUsed": "7970",
    "events": []
  },
  "deliver_tx": {
    "gasWanted": "9223372036854775807",
    "gasUsed": "12000",
    "events": [
      {
        "type": "increase-approve",
        "attributes": [
          {
            "key": "YXBwcm92ZS1mcm9t",
            "value": "cW9zYWNjMTVmYzI2c3d2Z3V6eTl3a3NoYTk1MDZzbWoyZ25lNXIzamQ5Nzhm"
          },
          {
            "key": "YXBwcm92ZS10bw==",
            "value": "cW9zYWNjMWYzN2p2bmVocmZrcHd6cXRxdHU1cTlqeDU3MDM0Z3Z2dHY1YTM2"
          }
        ]
      },
      {
        "type": "message",
        "attributes": [
          {
            "key": "bW9kdWxl",
            "value": "YXBwcm92ZQ=="
          },
          {
            "key": "YWN0aW9u",
            "value": "aW5jcmVhc2UtYXBwcm92ZQ=="
          },
          {
            "key": "Z2FzLnBheWVy",
            "value": "cW9zYWNjMTVmYzI2c3d2Z3V6eTl3a3NoYTk1MDZzbWoyZ25lNXIzamQ5Nzhm"
          }
        ]
      }
    ]
  },
  "hash": "1DA7BC66A461D760289F41F07EE83F61C9382EADD93320F0DE18CB54F4E6DA52",
  "height": "418"
}
命令执行耗时: 2542 ms
结果处理耗时: 7 ms
--------------------------------

== 提取交易哈希 ==

1DA7BC66A461D760289F41F07EE83F61C9382EADD93320F0DE18CB54F4E6DA52

== 查询链上交易记录 ==

{
  "height": "418",
  "txhash": "1DA7BC66A461D760289F41F07EE83F61C9382EADD93320F0DE18CB54F4E6DA52",
  "gas_wanted": "9223372036854775807",
  "gas_used": "12000",
  "events": [
    {
      "type": "increase-approve",
      "attributes": [
        {
          "key": "approve-from",
          "value": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f"
        },
        {
          "key": "approve-to",
          "value": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36"
        }
      ]
    },
    {
      "type": "message",
      "attributes": [
        {
          "key": "module",
          "value": "approve"
        },
        {
          "key": "action",
          "value": "increase-approve"
        },
        {
          "key": "gas.payer",
          "value": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f"
        }
      ]
    }
  ],
  "tx": {
    "type": "qbase/txs/stdtx",
    "value": {
      "itx": [
        {
          "type": "approve/txs/TxIncreaseApprove",
          "value": {
            "Approve": {
              "from": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f",
              "to": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36",
              "qos": "5000000",
              "qscs": null
            }
          }
        }
      ],
      "sigature": [
        {
          "pubkey": {
            "type": "tendermint/PubKeyEd25519",
            "value": "NtQ0jyi769kAoHy9kjhvzvvOQV5vcOuupg+/r+kDYVA="
          },
          "signature": "u4is9FeWLYIRIH5gvjhtZkupoPb6LZyjGf3u710dQT4Fprd8QRn1/phxHJyGR4xg5fayzkhnjwkKJblWR9EBCg==",
          "nonce": "3"
        }
      ],
      "chainid": "test-chain",
      "maxgas": "9223372036854775807"
    }
  },
  "timestamp": "2019-09-23T04:06:58Z"
}

== 交易成功 ==

== 交易生效过程 ==

到达新块: [418] ==> [419]

==== 可用交易列表 ====

| Index | Value                                                                                                                    |
| ----: | :----------------------------------------------------------------------------------------------------------------------- |
|     0 | active-validator                                                                                                         |
|     1 | add-guardian                                                                                                             |
|     2 | cancel-approve                                                                                                           |
|     3 | create-approve                                                                                                           |
|     4 | create-qsc                                                                                                               |
|     5 | create-validator                                                                                                         |
|     6 | decrease-approve                                                                                                         |
|     7 | delegate                                                                                                                 |
|     8 | delete-guardian                                                                                                          |
|     9 | deposit                                                                                                                  |
|    10 | halt-network                                                                                                             |
|    11 | increase-approve                                                                                                         |
|    12 | init-qcp                                                                                                                 |
|    13 | invariant-check                                                                                                          |
|    14 | issue-qsc                                                                                                                |
|    15 | modify-compound                                                                                                          |
|    16 | modify-validator                                                                                                         |
|    17 | redelegate                                                                                                               |
|    18 | revoke-validator                                                                                                         |
|    19 | submit-proposal                                                                                                          |
|    20 | transfer                                                                                                                 |
|    21 | unbond                                                                                                                   |
|    22 | use-approve                                                                                                              |
|    23 | vote                                                                                                                     |

==== 本地密钥名称-账户地址映射表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     1 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     2 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     3 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     4 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     5 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户地址列表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户余额情况: QOS ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |              9999963 |                  -12 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |             10000000 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |             10000000 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |       49000360125859 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |             10000000 |                    0 |

==== 用户账户余额情况: QSC 'star' ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |                    0 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |                    0 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |                    0 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |                    0 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |                    0 |                    0 |


================================================================

> # 查询预授权, 此时预授权余额: 15,000,000QOS, 预授权总量超出授权人账户余额

================================================================

== [ 2019-09-23 12:07:09 ] Command [ No.7 ]

> qoscli query approve --from bob --to charles --indent

--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli query approve --from bob --to charles --indent' 
命令执行结果:
{
  "from": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f",
  "to": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36",
  "qos": "15000000",
  "qscs": null
}
命令执行耗时: 361 ms
结果处理耗时: 4 ms
--------------------------------


================================================================

> # 减少预授权: 授权人bob, 被授权人charles, 要减少的预授权: 3,000,000QOS, 预期交易成功

================================================================

== [ 2019-09-23 12:07:10 ] Command [ No.8 ]

> qoscli tx decrease-approve --from bob --to charles --coins 3000000QOS --indent <== 12345678

== 交易之前 ==

==== 可用交易列表 ====

| Index | Value                                                                                                                    |
| ----: | :----------------------------------------------------------------------------------------------------------------------- |
|     0 | active-validator                                                                                                         |
|     1 | add-guardian                                                                                                             |
|     2 | cancel-approve                                                                                                           |
|     3 | create-approve                                                                                                           |
|     4 | create-qsc                                                                                                               |
|     5 | create-validator                                                                                                         |
|     6 | decrease-approve                                                                                                         |
|     7 | delegate                                                                                                                 |
|     8 | delete-guardian                                                                                                          |
|     9 | deposit                                                                                                                  |
|    10 | halt-network                                                                                                             |
|    11 | increase-approve                                                                                                         |
|    12 | init-qcp                                                                                                                 |
|    13 | invariant-check                                                                                                          |
|    14 | issue-qsc                                                                                                                |
|    15 | modify-compound                                                                                                          |
|    16 | modify-validator                                                                                                         |
|    17 | redelegate                                                                                                               |
|    18 | revoke-validator                                                                                                         |
|    19 | submit-proposal                                                                                                          |
|    20 | transfer                                                                                                                 |
|    21 | unbond                                                                                                                   |
|    22 | use-approve                                                                                                              |
|    23 | vote                                                                                                                     |

==== 本地密钥名称-账户地址映射表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     1 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     2 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     3 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     4 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     5 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户地址列表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户余额情况: QOS ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |              9999963 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |             10000000 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |             10000000 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |       49000360125859 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |             10000000 |                    0 |

==== 用户账户余额情况: QSC 'star' ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |                    0 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |                    0 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |                    0 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |                    0 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |                    0 |                    0 |

== 执行交易 ==

~/qos/bin/qoscli tx decrease-approve --from bob --to charles --coins 3000000QOS --indent 

== 原始交易结果 ==


--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli tx decrease-approve --from bob --to charles --coins 3000000QOS --indent' 12345678
命令执行结果:
{
  "check_tx": {
    "gasWanted": "9223372036854775807",
    "gasUsed": "7970",
    "events": []
  },
  "deliver_tx": {
    "gasWanted": "9223372036854775807",
    "gasUsed": "12000",
    "events": [
      {
        "type": "decrease-approve",
        "attributes": [
          {
            "key": "YXBwcm92ZS1mcm9t",
            "value": "cW9zYWNjMTVmYzI2c3d2Z3V6eTl3a3NoYTk1MDZzbWoyZ25lNXIzamQ5Nzhm"
          },
          {
            "key": "YXBwcm92ZS10bw==",
            "value": "cW9zYWNjMWYzN2p2bmVocmZrcHd6cXRxdHU1cTlqeDU3MDM0Z3Z2dHY1YTM2"
          }
        ]
      },
      {
        "type": "message",
        "attributes": [
          {
            "key": "bW9kdWxl",
            "value": "YXBwcm92ZQ=="
          },
          {
            "key": "YWN0aW9u",
            "value": "ZGVjcmVhc2UtYXBwcm92ZQ=="
          },
          {
            "key": "Z2FzLnBheWVy",
            "value": "cW9zYWNjMTVmYzI2c3d2Z3V6eTl3a3NoYTk1MDZzbWoyZ25lNXIzamQ5Nzhm"
          }
        ]
      }
    ]
  },
  "hash": "2AA014CC345A2217422AE92CB952D7779818F19F00FDF82328AC9FFECB6489B7",
  "height": "420"
}
命令执行耗时: 2520 ms
结果处理耗时: 8 ms
--------------------------------

== 提取交易哈希 ==

2AA014CC345A2217422AE92CB952D7779818F19F00FDF82328AC9FFECB6489B7

== 查询链上交易记录 ==

{
  "height": "420",
  "txhash": "2AA014CC345A2217422AE92CB952D7779818F19F00FDF82328AC9FFECB6489B7",
  "gas_wanted": "9223372036854775807",
  "gas_used": "12000",
  "events": [
    {
      "type": "decrease-approve",
      "attributes": [
        {
          "key": "approve-from",
          "value": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f"
        },
        {
          "key": "approve-to",
          "value": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36"
        }
      ]
    },
    {
      "type": "message",
      "attributes": [
        {
          "key": "module",
          "value": "approve"
        },
        {
          "key": "action",
          "value": "decrease-approve"
        },
        {
          "key": "gas.payer",
          "value": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f"
        }
      ]
    }
  ],
  "tx": {
    "type": "qbase/txs/stdtx",
    "value": {
      "itx": [
        {
          "type": "approve/txs/TxDecreaseApprove",
          "value": {
            "Approve": {
              "from": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f",
              "to": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36",
              "qos": "3000000",
              "qscs": null
            }
          }
        }
      ],
      "sigature": [
        {
          "pubkey": {
            "type": "tendermint/PubKeyEd25519",
            "value": "NtQ0jyi769kAoHy9kjhvzvvOQV5vcOuupg+/r+kDYVA="
          },
          "signature": "OGqKO8lp+Kj6CvXL5OVp/sTfbtpD99eohNbXN037qYRsv4rlSoJy0fso5lGgmtI93rtZ3iA4RDHjgv3xTuJYCQ==",
          "nonce": "4"
        }
      ],
      "chainid": "test-chain",
      "maxgas": "9223372036854775807"
    }
  },
  "timestamp": "2019-09-23T04:07:08Z"
}

== 交易成功 ==

== 交易生效过程 ==

到达新块: [420] ==> [421]

==== 可用交易列表 ====

| Index | Value                                                                                                                    |
| ----: | :----------------------------------------------------------------------------------------------------------------------- |
|     0 | active-validator                                                                                                         |
|     1 | add-guardian                                                                                                             |
|     2 | cancel-approve                                                                                                           |
|     3 | create-approve                                                                                                           |
|     4 | create-qsc                                                                                                               |
|     5 | create-validator                                                                                                         |
|     6 | decrease-approve                                                                                                         |
|     7 | delegate                                                                                                                 |
|     8 | delete-guardian                                                                                                          |
|     9 | deposit                                                                                                                  |
|    10 | halt-network                                                                                                             |
|    11 | increase-approve                                                                                                         |
|    12 | init-qcp                                                                                                                 |
|    13 | invariant-check                                                                                                          |
|    14 | issue-qsc                                                                                                                |
|    15 | modify-compound                                                                                                          |
|    16 | modify-validator                                                                                                         |
|    17 | redelegate                                                                                                               |
|    18 | revoke-validator                                                                                                         |
|    19 | submit-proposal                                                                                                          |
|    20 | transfer                                                                                                                 |
|    21 | unbond                                                                                                                   |
|    22 | use-approve                                                                                                              |
|    23 | vote                                                                                                                     |

==== 本地密钥名称-账户地址映射表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     1 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     2 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     3 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     4 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     5 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户地址列表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户余额情况: QOS ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |              9999951 |                  -12 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |             10000000 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |             10000000 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |       49000364985836 |              4859977 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |             10000000 |                    0 |

==== 用户账户余额情况: QSC 'star' ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |                    0 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |                    0 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |                    0 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |                    0 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |                    0 |                    0 |


================================================================

> # 查询预授权, 此时预授权余额: 12,000,000QOS, 预授权总量仍超出授权人账户余额

================================================================

== [ 2019-09-23 12:07:19 ] Command [ No.9 ]

> qoscli query approve --from bob --to charles --indent

--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli query approve --from bob --to charles --indent' 
命令执行结果:
{
  "from": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f",
  "to": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36",
  "qos": "12000000",
  "qscs": null
}
命令执行耗时: 360 ms
结果处理耗时: 5 ms
--------------------------------


================================================================

> # 使用预授权: 授权人bob, 被授权人charles, 要使用的预授权: 1,000,000QOS, 使用的预授权未超出授权人账户余额, 预期交易成功

================================================================

== [ 2019-09-23 12:07:20 ] Command [ No.10 ]

> qoscli tx use-approve --from bob --to charles --coins 1000000QOS --indent <== 12345678

== 交易之前 ==

==== 可用交易列表 ====

| Index | Value                                                                                                                    |
| ----: | :----------------------------------------------------------------------------------------------------------------------- |
|     0 | active-validator                                                                                                         |
|     1 | add-guardian                                                                                                             |
|     2 | cancel-approve                                                                                                           |
|     3 | create-approve                                                                                                           |
|     4 | create-qsc                                                                                                               |
|     5 | create-validator                                                                                                         |
|     6 | decrease-approve                                                                                                         |
|     7 | delegate                                                                                                                 |
|     8 | delete-guardian                                                                                                          |
|     9 | deposit                                                                                                                  |
|    10 | halt-network                                                                                                             |
|    11 | increase-approve                                                                                                         |
|    12 | init-qcp                                                                                                                 |
|    13 | invariant-check                                                                                                          |
|    14 | issue-qsc                                                                                                                |
|    15 | modify-compound                                                                                                          |
|    16 | modify-validator                                                                                                         |
|    17 | redelegate                                                                                                               |
|    18 | revoke-validator                                                                                                         |
|    19 | submit-proposal                                                                                                          |
|    20 | transfer                                                                                                                 |
|    21 | unbond                                                                                                                   |
|    22 | use-approve                                                                                                              |
|    23 | vote                                                                                                                     |

==== 本地密钥名称-账户地址映射表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     1 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     2 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     3 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     4 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     5 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户地址列表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户余额情况: QOS ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |              9999951 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |             10000000 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |             10000000 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |       49000364985836 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |             10000000 |                    0 |

==== 用户账户余额情况: QSC 'star' ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |                    0 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |                    0 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |                    0 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |                    0 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |                    0 |                    0 |

== 执行交易 ==

~/qos/bin/qoscli tx use-approve --from bob --to charles --coins 1000000QOS --indent 

== 原始交易结果 ==


--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli tx use-approve --from bob --to charles --coins 1000000QOS --indent' 12345678
命令执行结果:
{
  "check_tx": {
    "gasWanted": "9223372036854775807",
    "gasUsed": "9114",
    "events": []
  },
  "deliver_tx": {
    "gasWanted": "9223372036854775807",
    "gasUsed": "25000",
    "events": [
      {
        "type": "use-approve",
        "attributes": [
          {
            "key": "YXBwcm92ZS1mcm9t",
            "value": "cW9zYWNjMTVmYzI2c3d2Z3V6eTl3a3NoYTk1MDZzbWoyZ25lNXIzamQ5Nzhm"
          },
          {
            "key": "YXBwcm92ZS10bw==",
            "value": "cW9zYWNjMWYzN2p2bmVocmZrcHd6cXRxdHU1cTlqeDU3MDM0Z3Z2dHY1YTM2"
          }
        ]
      },
      {
        "type": "message",
        "attributes": [
          {
            "key": "bW9kdWxl",
            "value": "YXBwcm92ZQ=="
          },
          {
            "key": "YWN0aW9u",
            "value": "dXNlLWFwcHJvdmU="
          },
          {
            "key": "Z2FzLnBheWVy",
            "value": "cW9zYWNjMWYzN2p2bmVocmZrcHd6cXRxdHU1cTlqeDU3MDM0Z3Z2dHY1YTM2"
          }
        ]
      }
    ]
  },
  "hash": "3854F186D33F023C6B75CC25B72147AAB99161810B81F959BAF46DC8E645D47F",
  "height": "422"
}
命令执行耗时: 2531 ms
结果处理耗时: 8 ms
--------------------------------

== 提取交易哈希 ==

3854F186D33F023C6B75CC25B72147AAB99161810B81F959BAF46DC8E645D47F

== 查询链上交易记录 ==

{
  "height": "422",
  "txhash": "3854F186D33F023C6B75CC25B72147AAB99161810B81F959BAF46DC8E645D47F",
  "gas_wanted": "9223372036854775807",
  "gas_used": "25000",
  "events": [
    {
      "type": "message",
      "attributes": [
        {
          "key": "module",
          "value": "approve"
        },
        {
          "key": "action",
          "value": "use-approve"
        },
        {
          "key": "gas.payer",
          "value": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36"
        }
      ]
    },
    {
      "type": "use-approve",
      "attributes": [
        {
          "key": "approve-from",
          "value": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f"
        },
        {
          "key": "approve-to",
          "value": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36"
        }
      ]
    }
  ],
  "tx": {
    "type": "qbase/txs/stdtx",
    "value": {
      "itx": [
        {
          "type": "approve/txs/TxUseApprove",
          "value": {
            "Approve": {
              "from": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f",
              "to": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36",
              "qos": "1000000",
              "qscs": null
            }
          }
        }
      ],
      "sigature": [
        {
          "pubkey": {
            "type": "tendermint/PubKeyEd25519",
            "value": "UinjHf4xnFzTi0tdq+8ooehKg70WCpdXu48j37kIc8M="
          },
          "signature": "VFsmjOUl6URQ4NTpf/ACKUDz026Zp3OBgFfCgtLArEI3aOZM1TE7DVBX9vPRy7vVD8T4B+94dai/egPkZJtAAA==",
          "nonce": "1"
        }
      ],
      "chainid": "test-chain",
      "maxgas": "9223372036854775807"
    }
  },
  "timestamp": "2019-09-23T04:07:18Z"
}

== 交易成功 ==

== 交易生效过程 ==

到达新块: [422] ==> [423]

==== 可用交易列表 ====

| Index | Value                                                                                                                    |
| ----: | :----------------------------------------------------------------------------------------------------------------------- |
|     0 | active-validator                                                                                                         |
|     1 | add-guardian                                                                                                             |
|     2 | cancel-approve                                                                                                           |
|     3 | create-approve                                                                                                           |
|     4 | create-qsc                                                                                                               |
|     5 | create-validator                                                                                                         |
|     6 | decrease-approve                                                                                                         |
|     7 | delegate                                                                                                                 |
|     8 | delete-guardian                                                                                                          |
|     9 | deposit                                                                                                                  |
|    10 | halt-network                                                                                                             |
|    11 | increase-approve                                                                                                         |
|    12 | init-qcp                                                                                                                 |
|    13 | invariant-check                                                                                                          |
|    14 | issue-qsc                                                                                                                |
|    15 | modify-compound                                                                                                          |
|    16 | modify-validator                                                                                                         |
|    17 | redelegate                                                                                                               |
|    18 | revoke-validator                                                                                                         |
|    19 | submit-proposal                                                                                                          |
|    20 | transfer                                                                                                                 |
|    21 | unbond                                                                                                                   |
|    22 | use-approve                                                                                                              |
|    23 | vote                                                                                                                     |

==== 本地密钥名称-账户地址映射表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     1 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     2 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     3 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     4 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     5 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户地址列表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户余额情况: QOS ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |              8999951 |             -1000000 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |             10000000 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |             10999975 |               999975 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |       49000364985836 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |             10000000 |                    0 |

==== 用户账户余额情况: QSC 'star' ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |                    0 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |                    0 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |                    0 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |                    0 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |                    0 |                    0 |


================================================================

> # 查询预授权, 此时预授权余额: 11,000,000QOS, 预授权总量仍超出授权人账户余额

================================================================

== [ 2019-09-23 12:07:29 ] Command [ No.11 ]

> qoscli query approve --from bob --to charles --indent

--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli query approve --from bob --to charles --indent' 
命令执行结果:
{
  "from": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f",
  "to": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36",
  "qos": "11000000",
  "qscs": null
}
命令执行耗时: 371 ms
结果处理耗时: 5 ms
--------------------------------


================================================================

> # 使用预授权: 授权人bob, 被授权人charles, 要使用的预授权: 10,000,000QOS, 使用的预授权超出授权人账户余额, 预期交易失败

================================================================

== [ 2019-09-23 12:07:30 ] Command [ No.12 ]

> qoscli tx use-approve --from bob --to charles --coins 10000000QOS --indent <== 12345678

== 交易之前 ==

==== 可用交易列表 ====

| Index | Value                                                                                                                    |
| ----: | :----------------------------------------------------------------------------------------------------------------------- |
|     0 | active-validator                                                                                                         |
|     1 | add-guardian                                                                                                             |
|     2 | cancel-approve                                                                                                           |
|     3 | create-approve                                                                                                           |
|     4 | create-qsc                                                                                                               |
|     5 | create-validator                                                                                                         |
|     6 | decrease-approve                                                                                                         |
|     7 | delegate                                                                                                                 |
|     8 | delete-guardian                                                                                                          |
|     9 | deposit                                                                                                                  |
|    10 | halt-network                                                                                                             |
|    11 | increase-approve                                                                                                         |
|    12 | init-qcp                                                                                                                 |
|    13 | invariant-check                                                                                                          |
|    14 | issue-qsc                                                                                                                |
|    15 | modify-compound                                                                                                          |
|    16 | modify-validator                                                                                                         |
|    17 | redelegate                                                                                                               |
|    18 | revoke-validator                                                                                                         |
|    19 | submit-proposal                                                                                                          |
|    20 | transfer                                                                                                                 |
|    21 | unbond                                                                                                                   |
|    22 | use-approve                                                                                                              |
|    23 | vote                                                                                                                     |

==== 本地密钥名称-账户地址映射表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     1 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     2 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     3 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     4 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     5 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户地址列表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户余额情况: QOS ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |              8999951 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |             10000000 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |             10999975 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |       49000364985836 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |             10000000 |                    0 |

==== 用户账户余额情况: QSC 'star' ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |                    0 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |                    0 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |                    0 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |                    0 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |                    0 |                    0 |

== 执行交易 ==

~/qos/bin/qoscli tx use-approve --from bob --to charles --coins 10000000QOS --indent 

== 原始交易结果 ==


--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli tx use-approve --from bob --to charles --coins 10000000QOS --indent' 12345678
命令执行结果:
{
  "check_tx": {
    "code": 1,
    "log": "{\"codespace\":\"sdk\",\"code\":1,\"message\":\"TxStd's ITx ValidateData error:  ERROR:\\nCodespace: approve\\nCode: 107\\nMessage: \\\"from account has no enough coins\\\"\\n\"}",
    "gasWanted": "9223372036854775807",
    "gasUsed": "3630",
    "events": []
  },
  "deliver_tx": {},
  "hash": "EB9A45406E34C43C45BF2186893224F06FF91A70FD7E399F2ADBE593A1AF775D",
  "height": "0"
}
ERROR: {"codespace":"sdk","code":1,"message":"TxStd's ITx ValidateData error:  ERROR:\nCodespace: approve\nCode: 107\nMessage: \"from account has no enough coins\"\n"}
命令执行耗时: 816 ms
结果处理耗时: 15 ms
--------------------------------

== 提取交易哈希 ==

EB9A45406E34C43C45BF2186893224F06FF91A70FD7E399F2ADBE593A1AF775D

== 查询链上交易记录 ==

ERROR: Tx: response error: RPC error -32603 - Internal error: Tx (EB9A45406E34C43C45BF2186893224F06FF91A70FD7E399F2ADBE593A1AF775D) not found

错误: 未查询到链上交易记录

== 交易失败 ==


================================================================

> # 查询预授权: 此时预授权余额: 11,000,000QOS, 预授权总量未发生变动

================================================================

== [ 2019-09-23 12:07:31 ] Command [ No.13 ]

> qoscli query approve --from bob --to charles --indent

--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli query approve --from bob --to charles --indent' 
命令执行结果:
{
  "from": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f",
  "to": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36",
  "qos": "11000000",
  "qscs": null
}
命令执行耗时: 283 ms
结果处理耗时: 4 ms
--------------------------------


================================================================

> # 取消预授权: 授权人bob, 被授权人charles, 预期交易成功

================================================================

== [ 2019-09-23 12:07:32 ] Command [ No.14 ]

> qoscli tx cancel-approve --from bob --to charles --indent <== 12345678

== 交易之前 ==

==== 可用交易列表 ====

| Index | Value                                                                                                                    |
| ----: | :----------------------------------------------------------------------------------------------------------------------- |
|     0 | active-validator                                                                                                         |
|     1 | add-guardian                                                                                                             |
|     2 | cancel-approve                                                                                                           |
|     3 | create-approve                                                                                                           |
|     4 | create-qsc                                                                                                               |
|     5 | create-validator                                                                                                         |
|     6 | decrease-approve                                                                                                         |
|     7 | delegate                                                                                                                 |
|     8 | delete-guardian                                                                                                          |
|     9 | deposit                                                                                                                  |
|    10 | halt-network                                                                                                             |
|    11 | increase-approve                                                                                                         |
|    12 | init-qcp                                                                                                                 |
|    13 | invariant-check                                                                                                          |
|    14 | issue-qsc                                                                                                                |
|    15 | modify-compound                                                                                                          |
|    16 | modify-validator                                                                                                         |
|    17 | redelegate                                                                                                               |
|    18 | revoke-validator                                                                                                         |
|    19 | submit-proposal                                                                                                          |
|    20 | transfer                                                                                                                 |
|    21 | unbond                                                                                                                   |
|    22 | use-approve                                                                                                              |
|    23 | vote                                                                                                                     |

==== 本地密钥名称-账户地址映射表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     1 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     2 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     3 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     4 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     5 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户地址列表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户余额情况: QOS ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |              8999951 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |             10000000 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |             10999975 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |       49000364985836 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |             10000000 |                    0 |

==== 用户账户余额情况: QSC 'star' ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |                    0 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |                    0 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |                    0 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |                    0 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |                    0 |                    0 |

== 执行交易 ==

~/qos/bin/qoscli tx cancel-approve --from bob --to charles --indent 

== 原始交易结果 ==


--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli tx cancel-approve --from bob --to charles --indent' 12345678
命令执行结果:
{
  "check_tx": {
    "gasWanted": "9223372036854775807",
    "gasUsed": "6736",
    "events": []
  },
  "deliver_tx": {
    "gasWanted": "9223372036854775807",
    "gasUsed": "7000",
    "events": [
      {
        "type": "cancel-approve",
        "attributes": [
          {
            "key": "YXBwcm92ZS1mcm9t",
            "value": "cW9zYWNjMTVmYzI2c3d2Z3V6eTl3a3NoYTk1MDZzbWoyZ25lNXIzamQ5Nzhm"
          },
          {
            "key": "YXBwcm92ZS10bw==",
            "value": "cW9zYWNjMWYzN2p2bmVocmZrcHd6cXRxdHU1cTlqeDU3MDM0Z3Z2dHY1YTM2"
          }
        ]
      },
      {
        "type": "message",
        "attributes": [
          {
            "key": "bW9kdWxl",
            "value": "YXBwcm92ZQ=="
          },
          {
            "key": "YWN0aW9u",
            "value": "Y2FuY2VsLWFwcHJvdmU="
          },
          {
            "key": "Z2FzLnBheWVy",
            "value": "cW9zYWNjMTVmYzI2c3d2Z3V6eTl3a3NoYTk1MDZzbWoyZ25lNXIzamQ5Nzhm"
          }
        ]
      }
    ]
  },
  "hash": "7A71C48F92DDC3B0CDEC35F6E1D5D8CE0ADB0FA68F182E4706AB57C36440AAE3",
  "height": "425"
}
命令执行耗时: 5437 ms
结果处理耗时: 18 ms
--------------------------------

== 提取交易哈希 ==

7A71C48F92DDC3B0CDEC35F6E1D5D8CE0ADB0FA68F182E4706AB57C36440AAE3

== 查询链上交易记录 ==

{
  "height": "425",
  "txhash": "7A71C48F92DDC3B0CDEC35F6E1D5D8CE0ADB0FA68F182E4706AB57C36440AAE3",
  "gas_wanted": "9223372036854775807",
  "gas_used": "7000",
  "events": [
    {
      "type": "cancel-approve",
      "attributes": [
        {
          "key": "approve-from",
          "value": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f"
        },
        {
          "key": "approve-to",
          "value": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36"
        }
      ]
    },
    {
      "type": "message",
      "attributes": [
        {
          "key": "module",
          "value": "approve"
        },
        {
          "key": "action",
          "value": "cancel-approve"
        },
        {
          "key": "gas.payer",
          "value": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f"
        }
      ]
    }
  ],
  "tx": {
    "type": "qbase/txs/stdtx",
    "value": {
      "itx": [
        {
          "type": "approve/txs/TxCancelApprove",
          "value": {
            "from": "qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f",
            "to": "qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36"
          }
        }
      ],
      "sigature": [
        {
          "pubkey": {
            "type": "tendermint/PubKeyEd25519",
            "value": "NtQ0jyi769kAoHy9kjhvzvvOQV5vcOuupg+/r+kDYVA="
          },
          "signature": "HCvnvvIzVVtLpA1GlIDvoKLGcAhrAH+3uRituVEPPe3h6PoZbKBawWFP0cs7NS9JxOO7JtKmvidOhNGqhkTuCQ==",
          "nonce": "5"
        }
      ],
      "chainid": "test-chain",
      "maxgas": "9223372036854775807"
    }
  },
  "timestamp": "2019-09-23T04:07:33Z"
}

== 交易成功 ==

== 交易生效过程 ==

到达新块: [425] ==> [426]

==== 可用交易列表 ====

| Index | Value                                                                                                                    |
| ----: | :----------------------------------------------------------------------------------------------------------------------- |
|     0 | active-validator                                                                                                         |
|     1 | add-guardian                                                                                                             |
|     2 | cancel-approve                                                                                                           |
|     3 | create-approve                                                                                                           |
|     4 | create-qsc                                                                                                               |
|     5 | create-validator                                                                                                         |
|     6 | decrease-approve                                                                                                         |
|     7 | delegate                                                                                                                 |
|     8 | delete-guardian                                                                                                          |
|     9 | deposit                                                                                                                  |
|    10 | halt-network                                                                                                             |
|    11 | increase-approve                                                                                                         |
|    12 | init-qcp                                                                                                                 |
|    13 | invariant-check                                                                                                          |
|    14 | issue-qsc                                                                                                                |
|    15 | modify-compound                                                                                                          |
|    16 | modify-validator                                                                                                         |
|    17 | redelegate                                                                                                               |
|    18 | revoke-validator                                                                                                         |
|    19 | submit-proposal                                                                                                          |
|    20 | transfer                                                                                                                 |
|    21 | unbond                                                                                                                   |
|    22 | use-approve                                                                                                              |
|    23 | vote                                                                                                                     |

==== 本地密钥名称-账户地址映射表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     1 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     2 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     3 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     4 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     5 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户地址列表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户余额情况: QOS ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |              8999944 |                   -7 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |             10000000 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |             10999975 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |       49000369845826 |              4859990 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |             10000000 |                    0 |

==== 用户账户余额情况: QSC 'star' ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |                    0 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |                    0 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |                    0 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |                    0 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |                    0 |                    0 |


================================================================

> # 查询预授权: 此时预授权被取消, 原预授权已经不存在

================================================================

== [ 2019-09-23 12:07:44 ] Command [ No.15 ]

> qoscli query approve --from bob --to charles --indent

--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli query approve --from bob --to charles --indent' 
命令执行结果:
ERROR: approve does not exist
命令执行耗时: 291 ms
结果处理耗时: 7 ms
--------------------------------


================================================================

> # 重复取消预授权: 原预授权已经不存在, 预期交易失败

================================================================

== [ 2019-09-23 12:07:45 ] Command [ No.16 ]

> qoscli tx cancel-approve --from bob --to charles --indent <== 12345678

== 交易之前 ==

==== 可用交易列表 ====

| Index | Value                                                                                                                    |
| ----: | :----------------------------------------------------------------------------------------------------------------------- |
|     0 | active-validator                                                                                                         |
|     1 | add-guardian                                                                                                             |
|     2 | cancel-approve                                                                                                           |
|     3 | create-approve                                                                                                           |
|     4 | create-qsc                                                                                                               |
|     5 | create-validator                                                                                                         |
|     6 | decrease-approve                                                                                                         |
|     7 | delegate                                                                                                                 |
|     8 | delete-guardian                                                                                                          |
|     9 | deposit                                                                                                                  |
|    10 | halt-network                                                                                                             |
|    11 | increase-approve                                                                                                         |
|    12 | init-qcp                                                                                                                 |
|    13 | invariant-check                                                                                                          |
|    14 | issue-qsc                                                                                                                |
|    15 | modify-compound                                                                                                          |
|    16 | modify-validator                                                                                                         |
|    17 | redelegate                                                                                                               |
|    18 | revoke-validator                                                                                                         |
|    19 | submit-proposal                                                                                                          |
|    20 | transfer                                                                                                                 |
|    21 | unbond                                                                                                                   |
|    22 | use-approve                                                                                                              |
|    23 | vote                                                                                                                     |

==== 本地密钥名称-账户地址映射表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     1 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     2 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     3 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     4 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     5 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户地址列表 ====

| Index | Account Address                               | Key Name                                                                 |
| ----: | :-------------------------------------------: | -----------------------------------------------------------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f | bob                                                                      |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr | qcpSigner                                                                |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 | alice                                                                    |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 | charles                                                                  |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm | david                                                                    |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm | node                                                                     |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m | starBanker                                                               |

==== 用户账户余额情况: QOS ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |              8999944 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |             10000000 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |             10999975 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |       49000369845826 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |             10000000 |                    0 |

==== 用户账户余额情况: QSC 'star' ====

| Index | Account Address                               | Key Name                   | Balance              | Balance Change       |
| ----: | :-------------------------------------------: | -------------------------: | -------------------: | -------------------: |
|     0 | qosacc15fc26swvguzy9wksha9506smj2gne5r3jd978f |                        bob |                    0 |                    0 |
|     1 | qosacc1dkcds02rw2nwme34wvq4uym83nh8rz05h6x7nr |                  qcpSigner |                    0 |                    0 |
|     2 | qosacc1eqqnaps04l6ht9xahtrfgg59ksllcq9q85vje2 |                      alice |                    0 |                    0 |
|     3 | qosacc1f37jvnehrfkpwzqtqtu5q9jx57034gvvtv5a36 |                    charles |                    0 |                    0 |
|     4 | qosacc1n4sganm7v445h0dlqnlcq8hp8xgenl2sszd5pm |                      david |                    0 |                    0 |
|     5 | qosacc1qgwgmpsrd6anj3qjvjsqztj3xt9v24c4lygasm |                       node |                    0 |                    0 |
|     6 | qosacc1xhlsragqdn0cp7a2dcf45fy8j0nej9jlrv753m |                 starBanker |                    0 |                    0 |

== 执行交易 ==

~/qos/bin/qoscli tx cancel-approve --from bob --to charles --indent 

== 原始交易结果 ==


--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli tx cancel-approve --from bob --to charles --indent' 12345678
命令执行结果:
{
  "check_tx": {
    "code": 1,
    "log": "{\"codespace\":\"sdk\",\"code\":1,\"message\":\"TxStd's ITx ValidateData error:  ERROR:\\nCodespace: approve\\nCode: 104\\nMessage: \\\"approve not exists\\\"\\n\"}",
    "gasWanted": "9223372036854775807",
    "gasUsed": "1000",
    "events": []
  },
  "deliver_tx": {},
  "hash": "4C4BF1CF4295D3C188F61E97C46A69551EA70B013A687DC57155BA462C679D91",
  "height": "0"
}
ERROR: {"codespace":"sdk","code":1,"message":"TxStd's ITx ValidateData error:  ERROR:\nCodespace: approve\nCode: 104\nMessage: \"approve not exists\"\n"}
命令执行耗时: 885 ms
结果处理耗时: 14 ms
--------------------------------

== 提取交易哈希 ==

4C4BF1CF4295D3C188F61E97C46A69551EA70B013A687DC57155BA462C679D91

== 查询链上交易记录 ==

ERROR: Tx: response error: RPC error -32603 - Internal error: Tx (4C4BF1CF4295D3C188F61E97C46A69551EA70B013A687DC57155BA462C679D91) not found

错误: 未查询到链上交易记录

== 交易失败 ==


================================================================

> # 查询预授权: 此时预授权已经不存在

================================================================

== [ 2019-09-23 12:07:47 ] Command [ No.17 ]

> qoscli query approve --from bob --to charles --indent

--------------------------------
Expect命令:
expect 2>&1 /home/wangzijie/qos/expect/run_cmd_via_ssh.expect 127.0.0.1 wangzijie wf.cy.zs.wzj '~/qos/bin/qoscli query approve --from bob --to charles --indent' 
命令执行结果:
ERROR: approve does not exist
命令执行耗时: 295 ms
结果处理耗时: 7 ms
--------------------------------
